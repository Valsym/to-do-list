--
-- База данных: `todolist`
--

-- --------------------------------------------------------

USE todolist;

-- --------------------------------------------------------

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `user_dt_add`, `email`, `user_name`, `user_pass`) VALUES
(1, now(), 'test@test.com', 'Константин', 'xyz'),
(2, now()+1, 'test2@test.com', 'Петя', 'xyz123');

--
-- Дамп данных таблицы `projects`
--

INSERT INTO `projects` (`id`, `project_name`, `user_id`) VALUES
(1, 'Входящие', '1'),
(2, 'Учеба', '1'),
(3, 'Работа', '1'),
(4, 'Домашние дела', '1'),
(5, 'Авто', '1'),
(6, 'Входящие', '2'),
(7, 'Учеба', '2'),
(8, 'Работа', '2'),
(9, 'Домашние дела', '2');

-- --------------------------------------------------------

--
-- Дамп данных таблицы `tasks`
--

INSERT INTO `tasks` (`id`, `task_dt_add`, `task_status`, `task_name`, `task_file`, `deadline`, `user_id`, `project_id`) VALUES
(1, now(), 0, 'Собеседование в IT компании', '', '20.03.2023', 1, 3),
(2, now(), 0, 'Выполнить тестовое задание', '', '25.12.2023', 1, 3),
(3, now(), 1, 'Сделать задание первого раздела', '', '21.12.2023', 1, 2),
(4, now(), 0, 'Встреча с другом', '', '22.12.2023', 1, 1),
(5, now(), 0, 'Купить корм для кота', '', NULL, 1, 4),
(6, now(), 0, 'Заказать пиццу', '', NULL, 1, 4);

-- --------------------------------------------------------

--
-- получить список из всех проектов для одного пользователя;
--
select project_name from projects
where user_id = 1;

-- --------------------------------------------------------

--
-- получить список из всех задач для одного проекта;
--
select task_status from tasks
where project_id = 3;

-- --------------------------------------------------------

--
-- пометить задачу как выполненную;
--
update tasks SET task_status = 1 where id = 1;

-- --------------------------------------------------------

--
-- обновить название задачи по её идентификатору
--
update tasks SET task_name = 'Новая встреча с другом' where id = 4;